create table anime (id bigint generated by default as identity, createdAt timestamp(6), description varchar(255), image varchar(255), name varchar(255), updatedAt timestamp(6), release date, primary key (id));
create table poll (id bigint generated by default as identity, createdAt timestamp(6), description varchar(255), image varchar(255), name varchar(255), updatedAt timestamp(6), endDate date, startDate date, parent_id bigint, primary key (id));
create table poll_sharacter (Poll_id bigint not null, sharacters_id bigint not null);
create table poll_voting_line (Poll_id bigint not null, voting_lines_id bigint not null);
create table sharacter (id bigint generated by default as identity, createdAt timestamp(6), description varchar(255), image varchar(255), name varchar(255), updatedAt timestamp(6), anime_id bigint, primary key (id));
create table voting_line (id bigint generated by default as identity, createdAt timestamp(6), description varchar(255), image varchar(255), name varchar(255), updatedAt timestamp(6), poll_id bigint, sharacter_id bigint, primary key (id));
alter table if exists poll_voting_line drop constraint if exists UKmyd08x1h8oark09jt9x3halog;
alter table if exists poll_voting_line add constraint UKmyd08x1h8oark09jt9x3halog unique (voting_lines_id);
alter table if exists poll add constraint FKsmjmlmljqibg5gf7oyc77lvrm foreign key (parent_id) references poll;
alter table if exists poll_sharacter add constraint FK2p3u4urx6bhhuue3wjtrxh4vk foreign key (sharacters_id) references sharacter;
alter table if exists poll_sharacter add constraint FKmd34tepxc4gj8mk21d507jbne foreign key (Poll_id) references poll;
alter table if exists poll_voting_line add constraint FKbmijgogq17nihgofpl8ioik5j foreign key (voting_lines_id) references voting_line;
alter table if exists poll_voting_line add constraint FK8y43rcg49e4lisjcm04prfv9c foreign key (Poll_id) references poll;
alter table if exists sharacter add constraint FK3ypu4fklrvspm7e76o0ue17f0 foreign key (anime_id) references anime;
alter table if exists voting_line add constraint FKjyr9agrh2h0j0rau7rdfesodu foreign key (poll_id) references poll;
alter table if exists voting_line add constraint FKp6d6hf1wx7ht3rxmwcc5lfhp7 foreign key (sharacter_id) references sharacter;